<div class="p-4">
  {{ if ne .Directory "/" }}
  <div class="mb-4">
    <a href="/view?dir={{ .Parent }}" class="text-blue-500 hover:text-blue-700">To Parent Directory</a>
  </div>
  {{ end }}

  {{ if .Dirs }}
  <h1 class="text-lg font-semibold px-8 pt-4">Directory List</h1>
  <div class="masonry-dir">
    {{ range .Dirs }}
    <div class="brick bg-white overflow-hidden break-all">
      <div class="relative">
        <div class="mb-4 flex align-middle items-center gap-2  w-5/6">
          <i class="fas fa-folder"></i>
          <a href="/view?dir={{ if eq $.Directory "/" }}{{ .Name }}{{ else }}{{ $.Directory }}/{{ .Name }}{{ end }}/" class="text-blue-500 hover:text-blue-700 font-bold">{{ .Name }}/</a>
        </div>
        <div class="text-gray-600 text-sm flex gap-4 justify-between pt-10">
          <p>{{ .Size }}</p>
          <p>{{ .Mode }}</p>
          <p>{{ .Date }}</p>
        </div>
      </div>
    </div>
    {{ end }}
  </div>
  {{ end }}
  {{ if .Images }}
  <h1 class="text-lg font-semibold px-8 pt-4">Image List</h1>
  <div class="masonry">
    {{ range .Images }}
    <div class="brick bg-white overflow-hidden break-all">
      <div class="relative">
        <div class="mb-4">
          <div class="mb-5">
            <img src="/get?file={{ if eq $.Directory "/" }}{{ .Name }}{{ else }}{{ $.Directory }}/{{ .Name }}{{ end }}" alt="{{ .Name }}" class="viewer-image object-contain h-48 w-full mb-2 cursor-pointer">
          </div>

          <div class="flex justify-between items-center">
            <p class="text-gray-700 w-5/6 font-semibold">{{ .Name }}</p>
          </div>
        </div>
        <div class="text-gray-600 text-sm flex gap-4 justify-between pt-10">
          <p>{{ .Size }}</p>
          <p>{{ .Mode }}</p>
          <p>{{ .Date }}</p>
        </div>
        <div class="mt-4 absolute -top-5 right-0">
          <a href="/get?file={{ if eq $.Directory "/" }}{{ .Name }}{{ else }}{{ $.Directory }}/{{ .Name }}{{ end }}" download class="text-blue-500 hover:text-blue-700 whitespace-nowrap"><i class="fas fa-download"></i></a>
        </div>
      </div>
    </div>
    {{ end }}
  </div>
  {{ end }}
  {{ if .Files }}
  <h1 class="text-lg font-semibold px-8 pt-4">File List</h1>
  <div class="masonry">
    {{ range .Files }}
    <div class="brick bg-white overflow-hidden break-all">
      <div class="relative group">
        <div class="mb-4">
          <div></div>

          <div class="flex items-center align-middle items-center gap-2">
            <i class="fas fa-file self-start pt-2"></i>
            <p class="text-gray-700 w-5/6 font-semibold">{{ .Name }}</p>
          </div>
        </div>
        <div class="text-gray-600 text-sm flex gap-4 justify-between pt-10">
          <p>{{ .Size }}</p>
          <p>{{ .Mode }}</p>
          <p>{{ .Date }}</p>
        </div>
        <div class="mt-4 absolute -top-5 right-0">
          <a href="/get?file={{ if eq $.Directory "/" }}{{ .Name }}{{ else }}{{ $.Directory }}/{{ .Name }}{{ end }}" download class="text-blue-500 hover:text-blue-700 whitespace-nowrap"><i class="fas fa-download"></i></a>
        </div>
      </div>
    </div>
    {{ end }}
  </div>
  {{ end }}
</main>